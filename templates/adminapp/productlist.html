{% extends 'adminapp/admin_base.html' %}
{% load static %}


{% block content %}

<div class="container" >
	<section>
		<div class="row active_user_table mt-5">
			<div class="table-responsive shadow p-3 mb-5 bg-white rounded">
				<!-- <div>
					<a href="#"><button class="btn btn-primary">Add Brand</button></a>
				</div> -->
				<caption>
					<p class="table_caption  font-weight-bold" style="color: black"> <h4>Product List</h4></p>
				</caption>
				<table class="data-table table hover multiple-select-row nowrap" id="myTable">
					<div class=" d-flex justify-content-center "><a href="{% url 'addproduct' %}" class="btn btn-dark btn-sm col-4">Add Product</a><br></div>
					<thead>
						<tr>
							<th scope="col">Index</th>
							<th>Product Name</th>
							<th scope="col">Image</th>
							<th scope="col">Price</th>
							<th scope="col">Category</th>
							<th scope="col">Stock</th>
							<th scope="col">Actions</th>
						</tr>
					</thead>
					<tbody>
						{% for data in  datas %}
						<tr>
							<th scope="row">{{forloop.counter}}</th>
							<td>{{data.product_name}}</td>
							<td>
								<img src="{{data.image.url}}"  width="75px" alt="">
								<!-- <a href="#"><img src="{{single_product.images1.url}}"></a>
								<a href="#"><img src="{{single_product.images2.url}}"></a>
								<a href="#"><img src="{{single_product.images3.url}}"></a> -->
							</td>
							<td>{{data.price}}</td>
							<td>{{data.category}}</td>
							<td>{{data.stock}}</td>
							 <td><a href="{%  url 'editproduct' data.id %}"><i class="fas fa-pencil-alt"></i></a> <a href="{%  url 'deleteproduct' data.id %}" style="margin-left: 15px;" onclick="deleteProduct()"><i
								class="far fa-trash-alt"></i></a>
							</td>
							<!-- <td>
								<a href="#" class="pr-5"><i class="fas fa-edit"></i></a>
	
								
								<a onclick="delete_brand('{{brand.id}}')" type="button" data-toggle="modal"
									data-target="#exampleModalCenter" style="color: red;"><i
										class="fas fa-trash-alt"></i></a>
							</td> -->
						</tr>
						{% endfor %}
					</tbody>
				</table>
			</div>
		</div>
	</section>
	</div>      

<!-- js
<script src="{% static 'vendors/scripts/core' %}"></script>
<script src="{% static 'vendors/scripts/script.min' %}"></script>
<script src="{% static 'vendors/scripts/process' %}"></script>
<script src="{% static 'vendors/scripts/layout-settings' %}"></script>
<script src="{% static 'src/plugins/datatables/js/jquery.dataTables.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/dataTables.bootstrap4.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/dataTables.responsive.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/responsive.bootstrap4.min' %}"></script> -->
<!-- buttons for Export datatable -->
<!-- <script src="{% static 'src/plugins/datatables/js/dataTables.buttons.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/buttons.bootstrap4.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/buttons.print.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/buttons.html5.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/buttons.flash.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/pdfmake.min' %}"></script>
<script src="{% static 'src/plugins/datatables/js/vfs_fonts' %}"></script> -->
<!-- Datatable Setting js -->
<!-- <script src="{% static 'vendors/scripts/datatable-setting' %}"></script> -->

{% endblock %}

{% block script %}
<script>
	function deleteProduct() {
		event.preventDefault();
		var dlt = event.currentTarget.href
		console.log(dlt)
		Swal.fire({
			title: 'Are you sure?',
			text: "You won't be able to revert this!",
			icon: 'warning',
			showCancelButton: true,
			confirmButtonColor: '#3085d6',
			cancelButtonColor: '#d33',
			confirmButtonText: 'Yes, delete it!'
		}).then((result) => {
			if (result.isConfirmed) {
				
				window.location = dlt;
			}
		})
	}
</script>
{% endblock %}